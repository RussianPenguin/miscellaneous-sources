<HTML>
<HEAD>
<TITLE>White Tiger WWW Board &#151; Установка на домашнем компьютере</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#BFDCFB" LINK="#0000f0" VLINK="#5E5E5E" ALINK="#FF0000">

<font face="Arial, Times New Roman" size=2>
<div align=left>
<div align=justify>
<center><P><B><FONT COLOR=#0000FF SIZE=+2>White Tiger<BR>
</FONT><I><FONT COLOR=#008000 SIZE=+1>WWW Board &#151; система поддержки WWW-конференции<p>Установка программы на домашнем компьютере</FONT></I></B></CENTER>
<P><hr size=1 width=80% align=center><P>
<center>[<a href=ewtboard.htm>English version here</a>]
[<a href=wtboard.htm>Документация</a>]
[<a href=http://wtiger.ncport.ru/wtboard>Демонстрация</a>]
[Тестирование]
[<a href=wtb2new.htm>Обновление</a>]
[<a href=wtboardplugs.htm>Разработка</a>]
</center>
<P><hr size=1 width=80% align=center><P>
<dd>1. <a href=#1>Введение</a>
<dd>2. <a href=#2>Необходимые программы</a>
<dd>3. <a href=#3>Подготовка и установка</a>
<dd>4. <a href=#4>Некоторые замечания</a>

<P><hr size=1 width=80% align=center><P>

<center><h3><a name=1></a>1. Введение</h3></center>

<DD>Для очевидных и неочевидных нужд может возникнуть надобность предварительно
установить поддержку WWW-конференции на собственном компьютере, не подсоединенном
к сети Internet. <i>(Например, чтобы посмотреть, что происходит во время работы
программы. Или проверить, действительно ли она работает... хотя это уже излишне
&#151; существует несколько работающих на основе White Tiger WWW Board форумов,
а также демонстрационный форум <a href=wtboard>WTiger&nbsp;Support</a>
на которых и можно убедиться в функционировании программы.)</i> Здесь описаны
действия, позволяющие установить и протестировать форум под управлением Windows
95 (и, вероятно, также Windows 98/NT).
<dd>Кроме того, данное описание может послужить руководством к настройке
&#171;местной интрасети&#187; (по терминологии Windows&nbsp;98) &#151; то есть
возможности доступа к определенным каталогам на домашнем (офисном) компьютере
как к ресурсам, находящимся в Internet. Это бывает полезным при
разработке, отладке и настройке cgi-программ, а также доведении до ума работы
в локальной сети с использованием протокола HTTP.
<dd><b><i>Если вы сумели установить и настроить систему на домашнем компьютере
под управлением какой-либо другой операционной системы, пришлите, пожалуйста,
подробное описание действий для включения его в этот документ. Имя автора,
разумеется, будет сохранено.</i></b>

<P><hr size=1 width=40% align=center><P>

<center><h3><a name=2></a>2. Необходимые программы</h3></center>

<dd>Для того, чтобы форум работал на вашем компьютере, необходимо установить
на него следующие программы:
<ul><li>Perl 5.0x &#151; интерпретатор языка Perl, найти последнюю версию можно
по ссылкам с ресурса <a href=http://www.perl.org>www.perl.org</a>. Предпочтителен
файл с названием наподобие pw32i316.exe, размер ~1,5 Mb. Также можно использовать
<a href=http://www.ActiveState.com/ActivePerl>ActivePerl</a>, но при тех же
возможностях он занимает больше места.
<li>TinyWeb или Small HTTP server &#151; персональный web-сервер очень малого
размера (~40 Kb первый, ~17 Kb второй; при использовании второго рекомендуется
установить ActivePerl), обеспечивающий максимум необходимых
функций, за исключением SSI и cookie (во втором случае и SSI, и cookie
поддерживаются). Взять TinyWeb можно на сайте компании
<a href=http://www.ritlabs.com>RitLabs</a>, Small HTTP server &#151; на <a
href=http://www.wplus.net/pp/mrdoors/srv/>странице автора</a>.
<li>Internet-браузер.
</ul>
<dd><i>(Вместо связки двух первых программ можно использовать другие, например,
<a href=http://www.sambar.com>Sambar&nbsp;Server</a>, который уже включает
в себя интерпретатор Perl. Кроме того, в этом сервере имеется поддержка
SSI, cookie, ftp и прочих протоколов. Однако разработчику так и не удалось
запустить форум под управлением этого сервера. Видимо, ума не хватило...)</i>
<dd><i>(К сожалению, при использовании Apache + mod_perl программа White
Tiger WWW Board не работает. Это связано с динамическим способом создания
переменных, используемым в WTBoard, который не поддерживает mod_perl.)</i>


<P><hr size=1 width=40% align=center><P>

<center><h3><a name=3></a>3. Подготовка и установка</h3></center>

<dd>Необходимо установить Perl и зарегистрировать его в системе запуском файла
perlw32-install.bat из директории bin. ActivePerl снабжен собственной программой
инсталляции.
<dd>Для запуска TinyWeb создайте ярлык со следующими параметрами. В поле
&#171;Файл&#187; впишите командную строку типа: 
<font face=Courier size=3><b>c:\WWW\bin\TINY.EXE&nbsp;c:\www\root</b></font>,
где первый параметр &#151; путь к исполнимому файлу tiny.exe, второй &#151;
каталог, предназначенный пониматься вашим браузером как корневой на вашем хосте. В 
этом каталоге создайте файл index.html с любым содержимым.
В поле &#171;Рабочий каталог&#187; впишите значение типа
<font face=Courier size=3><b>c:\WWW\log</b></font>, это будет каталог, в который
предстоит записываться log-данным TinyWeb.
<dd>Что значит &#171;корневой каталог на хосте&#187;? При запущенном TinyWeb
вы сможете обращаться к этому каталогу на своем компьютере как к ресурсу в Internet.
Для этого запустите браузер и в строке адреса впишите следующее значение:
<font face=Courier size=3><b>http://localhost/</b></font>. Будет отображено
содержимое файла index.html из &#171;корневого&#187; каталога. Если на localhost
браузер станет выдавать ошибку, попробуйте <font face=Courier
size=3><b>http://127.0.0.1/</b></font> &#151; это зарезервированный адрес
системы, обращается только к локальному ресурсу.
<dd>Вместо TinyWeb можно установить Small HTTP Server. Данная программа имеет
собственную систему установки, в которой необходимо указать определенные
параметры запуска. Подробное описание установки и настройки вы можете найти
на странице автора. При использовании Small HTTP Server будут работать
практически все функции форума, включая SSI-команды и cookie. Для наиболее
быстрой работы форума рекомендую использовать возможность запуска скриптов
посредством файла perlis.dll (соответственно, должен быть установлен
ActivePerl).
<dd>Для чего все это нужно? Запуск cgi-скриптов из браузера просто так
невозможен. Наличие персонального web-сервера обеспечивает их выполнение
и передачу данных браузеру. Заметим, что cgi-скрипты (cgi-программы) под
TinyWeb могут выполняться только в том случае, если они находятся в каталоге
cgi-bin корневого; иначе говоря &#151; в пути http://localhost/cgi-bin, Small
HTTP Server позволяет переопределить каталог, содержащий скрипты.
<dd>После всего этого создайте в каталоге cgi-bin файл test.pl со следующим содержимым:
<font face=Courier size=3><b><pre>
-------------------------cut----------------------------
#!/usr/bin/perl


print "Content-type: text/html\n\n";

print "&lt;html&gt;&lt;title&gt;TEST&lt;/title&gt;&lt;h1&gt;TEST&lt;/h1&gt;&lt;/html&gt;";

exit;
-----------------------end-cut--------------------------
</pre></b></font><p>
<dd>Запустите его через путь http://localhost/cgi-bin/test.pl. Результатом должно стать
сообщение в браузере: &#171;TEST&#187;.
<dd>Если все получилось, то при использовании TinyWeb следующим шагом нужно
зарегистрировать для выполнения скрипты с расширением .cgi (в Small HTTP Server
определенные расширения понимаются без лишних телодвижений, поэтому при его использовании регистрацию расширений можно и не производить). Для этого создайте
файл cgi.reg и перенесите в него строки: <font face=Courier size=3><b><pre>
-------------------------cut----------------------------
REGEDIT4

[HKEY_CLASSES_ROOT\.cgi]
@="cgifile"
"Content Type"="application/x-perl"

[HKEY_CLASSES_ROOT\.pl]
@="plfile"
"Content Type"="application/x-perl"

[HKEY_CLASSES_ROOT\.shtml]
@="NetscapeMarkup"
"Content Type"="text/html"
-----------------------end-cut--------------------------
</pre></b></font><p>
<dd>Запустите этот файл, дважды щелкнув по нему мышкой в Проводнике.
<dd>Теперь переименуйте ранее созданный файл test.pl в test.cgi и проверьте его
работу. Если все нормально, то вы можете установить скрипты и файлы форума, 
руководствуясь <a href=wtboard.htm>инструкцией</a>.

<P><hr size=1 width=40% align=center><P>

<center><h3><a name=4></a>4. Некоторые замечания</h3></center>
<dd>Под управлением TinyWeb не будут работать &#171;Новостная строка&#187;, 
извещение участника форума о появлении новых сообщений, а также
автоматическое добавление значений в поля в форме поиска, так как эти вещи
обеспечиваются выполнением инструкций SSI (Server Side Includes),
пока, к сожалению, не поддерживаемых этим web-сервером. И SSI, и cookie 
поддерживаются Small HTTP Server by Max Feoktistov. После установки
скриптов на сервер в Internet, поддерживающий
эту технологию, упомянутые функции должны нормально функционировать.
<dd><i><b>Внимание!</b> Возможно, при вызове cgi-программ у вас надолго
застынет сообщение ожидания ответа от сервера. Это нормально, если продолжается
не более полуминуты. Если же в течение долгого времени не возвращается никакой
ответ от виртуального сервера, то существует определенная вероятность, что
в данной конфигурации системы некоторые файлы работают некорректно. Подобное
может быть после добавления в OSR2 поддержки USB (USB&nbsp;Support). В таком
случае рекомендуется либо переустановить Windows 95 без установки USB Support,
либо перейти на Windows 98.</i>

<P><hr size=1 width=80% align=center><P>

<CENTER><P><B><TT><A HREF="wtboard.htm">назад</A></TT></B></P></CENTER>
<P><div align=left><FONT SIZE="-2"><B><I>
Файл создан 7 февраля 1999 года. Последний раз дополнялся 11 апреля 2000 года.<br>
Copyright &#169; 1998-2000, <A HREF="mailto:wtiger@mail.ru">White Tiger</a>.
</BODY>
</HTML>

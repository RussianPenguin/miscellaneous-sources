<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<style type="text/css">
A.black:link {COLOR: #000000; TEXT-DECORATION: none;FONT-FAMILY: Arial,Verdana,Tahoma,sans-serif; FONT-SIZE: 9pt}
A.black:visited {COLOR: #000000; TEXT-DECORATION: none;FONT-FAMILY: Arial,Verdana,Tahoma,sans-serif; FONT-SIZE: 9pt}
A.black:hover {COLOR: #FFFFFF; TEXT-DECORATION: none;FONT-FAMILY: Arial,Verdana,Tahoma,sans-serif; FONT-SIZE: 9pt}
.b {text-decoration: none; color:#FF0000;} 
.b:hover {color:#7785FF;}
.c {text-decoration: none; color:#000000;} 
.c:hover {color:#FFFFFF;}
 pre {color: blue;}
TD.colon {COLOR: #000000; FONT-FAMILY: "MS Sans Serif", sans-serif; FONT-SIZE: 9pt}
</style>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta content="программирование на Visual Basic, документация, документы, delphi, pascal, cpp, hardware, web, веб-мастер, советы, описания, доки, manual, Java, C, C++, обучение, исходники, odbc, jdbc, programm, protocols, протоколы, общение, форумapplet, java, design, апплет, дизайн, ява, Free, counters, Trackers, Guestbooks, Access Logs, Banners, Graphics, Banner ads, Fonts, Form Mailer, form mailers, graphics, icons, games, freeware, shareware, forms, guestbooks, Java, Javascript, contests, puzzles, fonts, font resources, E-mail programs, reminder services, product samples, samples, Email services, E-mail services, advertising, graphics, free banner ads, free World Wide Web resources, counters, Trackers, Guestbooks, Access Logs, Banners, Graphics, Banner ads, Fonts, Form Mailer, form mailers, graphics, icons, games, freeware, shareware, forms, guestbooks, Java, Javascript, contests, puzzles, fonts, font resources, E-mail programs, reminder services, product samples, samples, Email services, E-mail services, advertising, graphics, free banner ads, free World Wide Web resources" name="keywords">
<meta NAME="RESOURCE-TYPE"
CONTENT="pop hypertext sources hypermedia server scripting shtml phtml html developer code base tools open source web site browser free software webmaster cgi dhtml dynamic content netscape explorer shareware download website construction free tutorial news design maintenance page hit cvs mailing list projects httpd mod_perl mod www htdig xml perl scripts script server-side-include apache database MySQL mysql msql postres postresql module linux online cpp Visual Basic JavaScript delphi wap job informer java opengl directx">
<title>Информационный сервер для программистов - исходники со всего света.</title>
</head>

<body topmargin="0" leftmargin="0" marginwidth="0" marginheigth="0" bgcolor=white>

<form action="/cgi-bin/sources/search/search.pl" method="get" align="left">
  <input type="hidden" name="stpos" value="0"><table border="0" cellpadding="0"
  cellspacing="0" width="750">
    <tr>
      <td valign="top" rowspan="2"><table border="0" cellpadding="0" cellspacing="0" width="287">
        <tr>
          <td colspan="2" bgcolor="#A5E4A7" valign="middle" align="center"><b>WWW.ИСХОДНИКИ.РУ</b></td>
          <td bgcolor="#000080" valign="middle" align="center"><b><font face="Tahoma"
          style="font-size: 8pt" size="-1" color="#FFFFFF">cpp.sources.ru</font></b></td>
        </tr>
        <tr>
          <td bgcolor="#000080" valign="middle" align="center"><b><font face="Tahoma"
          style="font-size: 8pt" size="-1" color="#FFFFFF">java.sources.ru</font></b></td>
          <td bgcolor="#C0C0C0" valign="middle" align="center"><font face="Tahoma"
          style="font-size: 8pt" size="-1"><b>web.sources.ru</b></font></td>
          <td bgcolor="#A5E4A7" valign="middle" align="center"><font face="Tahoma"
          style="font-size: 8pt" size="-1"><b>soft.sources.ru</b></font></td>
        </tr>
        <tr>
          <td bgcolor="#C0C0C0" valign="middle" align="center"><font face="Tahoma"
          style="font-size: 8pt" size="-1"><b>jdbc.sources.ru</b></font></td>
          <td bgcolor="#A5E4A7" valign="middle" align="center"><font face="Tahoma"
          style="font-size: 8pt" size="-1"><b>asp.sources.ru</b></font></td>
          <td bgcolor="#000080" valign="middle" align="center"><b><font face="Tahoma"
          style="font-size: 8pt" size="-1" color="#FFFFFF">api.sources.ru</font></b></td>
        </tr>
      </table>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr>
          <td><font style="font-size: 8pt" size="2" face="Tahoma">&nbsp; Поиск по
          программированию :<br>
          </font>&nbsp; <input type="text" size="13" name="query"> <input type="submit"
          value="Поиск"><font size="1"><input
          TYPE="Radio" NAME="stype" VALUE="AND" checked>&quot;AND&quot; <input TYPE="Radio"
          NAME="stype" VALUE="OR">&quot;OR&quot;</font>


<!--TopList COUNTER--><a target=_top
href="http://top.list.ru/jump?from=89876"><script language="JavaScript"><!--
d=document;a='';a+=';r='+escape(d.referrer)
js=10//--></script><script language="JavaScript1.1"><!--
a+=';j='+navigator.javaEnabled()
js=11//--></script><script language="JavaScript1.2"><!--
s=screen;a+=';s='+s.width+'*'+s.height
a+=';d='+(s.colorDepth?s.colorDepth:s.pixelDepth)
js=12//--></script><script language="JavaScript1.3"><!--
js=13//--></script><script language="JavaScript"><!--
d.write('<img src="http://top.list.ru/counter'+
'?id=89876;t=57;js='+js+a+';rand='+Math.random()+
'" alt="TopList" '+ 'border=0 height=1 width=1>')
if(js>11)d.write('<'+'!-- ')//--></script><noscript><img
src="http://top.list.ru/counter?js=na;id=89876;t=57"
border=0 height=1 width=1
alt="TopList"></noscript><script language="JavaScript"><!--
if(js>11)d.write('--'+'>')//--></script></a><!--TopList COUNTER-->


<a href="http://counter.rambler.ru/top100/"><img src="http://counter.rambler.ru/top100.cnt?163871" alt="Rambler's Top100" width=1 height=1 border=0></a>

<!-- SpyLOG f:0211 --> 
<script language="javascript"> 
u="u1624.10.spylog.com";d=document;nv=navigator;na=nv.appName;p=1; 
bv=Math.round(parseFloat(nv.appVersion)*100); 
n=(na.substring(0,2)=="Mi")?0:1;rn=Math.random();z="p="+p+"&rn="+rn;y=""; 
y+="<a href='http://"+u+"/cnt?f=3&p="+p+"&rn="+rn+"' target=_blank>"; 
y+="<img src='http://"+u+"/cnt?"+z+ "&r="+escape(d.referrer)+"&pg="+escape(window.location.href)+"' border=0 width=1 height=1 alt='SpyLOG'>"; 
y+="</a>"; d.write(y);if(!n) { d.write("<"+"!--"); }//--></script><noscript> 
<a href="http://u1624.10.spylog.com/cnt?f=3&p=1" target=_blank> 
<img src="http://u1624.10.spylog.com/cnt?p=1" alt='SpyLOG' border='0' width=1 height=1 > 
</a></noscript><script language="javascript1.2"><!-- 
if(!n) { d.write("--"+">"); }//--></script> 
<!-- SpyLOG -->


</td>
        </tr>
      </table>
      </td>
      <td align="center"><font style="font-size: 15pt" color="#4904B1" size="4"
      face="Times New Roman">Информационный сервер</font></td>
    </tr>
    <tr>
      <td>


<!-- LBE -->
<script>
// <!--
rand = Math.round((Math.random() * (10000 - 1)));
document.write("<a href=http://www.lbe.ru/cgi-bin/href/castle?" + rand + " target=_blank><img src=http://www.lbe.ru/cgi-bin/banner/castle?" + rand + " width=468 height=60 border=0 alt=LBE ismap></a><br>");
// -->
</script>
<noscript>
                                                                                                                                                                <br>
</noscript>
<!-- LBE -->



      </td>
    </tr>
    <tr>
      <td colspan="2"><table border="0" cellpadding="0" cellspacing="1" width="100%">
        <tr>
          <td align="center" width="11%" bgcolor="#E0E0C6"><a
          href="../www.sources.html"><font color="#000000" size="2">На главную</font></a></td>
          <td align="center" width="20%" bgcolor="#E0E0C6"><a
          href="../subscribe.html"><font color="#000000" size="2">Подписаться на новости</font></a></td>
          <td align="center" width="11%" bgcolor="#E0E0C6"><a href="../cgi-bin/sources/Ultimate.pl"><font color="#000000" size="2">Форум</font></a></td>
          <td align="center" width="11%" bgcolor="#E0E0C6"><a href="../books.html"><font color="#000000" size="2">Книги</font></a></td>
          <td align="center" width="7%" bgcolor="#E0E0C6"><a href="http://chat.vidcenter.ru:82/"><font color="#000000" size="2">Чат</font></a></td>
          <td align="center" width="13%" bgcolor="#E0E0C6"><a href="http://www.countries.ru/"><font color="#000000" size="2">Страны мира</font></a></td>
          <td align="center" width="29%" bgcolor="#E0E0C6"><b>2</b> пользователей на сервере.
</td>
        </tr>
      </table>
      </td>
    </tr>
  </table>
</form>

<div align="center"><center>

<table width="680" cellspacing="0" cellpadding="0">
  <tr>
    <td><hr>
    <h3 align="center">TCP клиент-сервер<font color="#a0a099"> </font></h3>
    <hr>
    <p>Автор: <a href="mailto:mzarembo@iba.com.by">Zarembo Maxim</a>.</p>
    <p>О ПРОГРАММЕ</p>
    <p>Исходник программы, написаный на С++, который
    демонстрирует как использовать стандартную
    библиотеку winsock для организации соединения по
    протоколу TCP клиент(client)-сервер(server) с
    подробнейшими коментариями на русском. Кроме
    стандартных функций winsock, которые поддерживаются
    практически на любой платформе, представлены
    функции из библиотеки IPHLPAPI из пакета PDK, которые
    служат для добавления, удаления IP адресов и
    получении информации об интерфейсах сетевых
    адаптеров. Исходные тексты компилировались и
    отлаживались в Microsoft Visual Studio 6.0(SP4). Главное
    диалоговое окно и графический интерфейс
    написаны с поддержкой MFC. Используемые функции
    winsock и IPHLPAPI могут быть перенесены в любую другую
    оболочку разработчика (Borland 5.02, Builder 5) с малым
    изменением кода без потери функциональности.
    Пример программы предназначается для изучения
    принципов пограммирования сети по протоколу TCP,
    используя библиотеку winsock начинающими и
    написания по этому шаблону программы, а также для
    тех кто не смог ещё разобраться по английской
    документации. Хотя данный исходник будет также
    полезен и для профессионалов, которые ещё не
    работали с библиотекой IPHLPAPI, функции которой
    можно использовать, например, для добавления к
    интерфейсу сетевого адаптера дополнительного IP
    адреса без перезагрузки компьютера, чем-то
    похоже на программу от Microsoft route. Например, для
    организации кластера на NT4 для резервирования
    главного сервера, т.е при отказе основной машины
    резервная появляется в сети с тем же IP адресом не
    перегружаясь, а сразу же после отсуствия отклика
    от главного сервера, беря на себя все функции по
    организации соединения с клиентами и выдачу для
    них полезной информации.</p>
    <p>НАЗНАЧЕНИЕ КЛАВИШ И ПОЛЕЙ</p>
    <p>IP ADDRESS - для задания IP адреса. Перед установкой IP
    адреса проверьте нету ли уже такого IP адреса в
    сети утилитой ping, которую вы можете запустить,
    нажав на клавишу 'PING'. Пример: 172.17.1.6</p>
    <p>MASK - для задания маски сети. Пример: 255.255.255.0</p>
    <p>№ Interface - для задания номера интерфейса. Это
    необходимо для добавления дополнительного IP
    адреса. Номер интерфейса вы можете посмотреть,
    нажав клавишу 'INFO'.</p>
    <p>Server - тип соединения, при котором программа
    будет ожидать соединения клиента и приёма от
    него сообщений на заданный порт.</p>
    <p>Client - тип соединения, при котором программа
    может подключиться к удалённому серверу, на
    котором запущен сервер, и переслать сообщения.
    Одновременно может быть выбран только один тип
    соединения или 'Server', или 'Client'.</p>
    <p>№ port - номер порта, предназначеный для
    соединения.</p>
    <p>Message_Send - поле для задания сообщения,
    предназначенное для отправления данных на
    удалённый сервер.</p>
    <p>Message_reciev - поле, в котором отображается принятое
    от клиента сообщение.</p>
    <p>ADD - для добавления нового дополнительного IP
    адреса к заданному интерфейсу. Обязательно
    должны быть заданы новый IP адрес, маска сети и
    номер интерфейса сетевого адаптера.</p>
    <p>DELETE - для удаления дополнительного IP адреса
    который был добавлен к заданному интерфейсу.
    Чтобы удалить надо задать контекст. Пример
    смотри ниже.</p>
    <p>PING - запуск стандартной утилиты для проверки
    активности удалённой станции. Обязательный
    параметр IP адрес.</p>
    <p>INFO - для получения на локальной станции
    информации о сетевых адаптерах: IP адресов, MAC
    адресов, интерфейсов.</p>
    <p>SEND - для отправления сообщения, набранного в
    поле 'Message_Send'.</p>
    <p>ABOUT - для связи с разработчиком.</p>
    <p>&nbsp;</p>
    <p>ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ</p>
    <p>1)клиент-сервера Запускаем программу dialog.exe на
    любых двух компьютерах, один компьютер будет у
    нас сервером, другой клиентом, на них должна быть
    правильно настроена сеть. На станции, которую мы
    приняли за сервер запускаем серверную часть,
    задав номер порта в поле '№ port'(по умолчанию номер
    порта равен 3182), а затем выбрав клавишу 'Server'. На
    клиенте запускаем клиентскую часть, указав IP
    адрес в поле 'IP ADDRESS' (по умолчанию IP адрес равен
    адресу локальной станции 127.0.0.1), задав номер
    порта и нажав на клавишу 'Client'. После этих
    действий удалённый сервер готов получать от
    клиента сообщения. Для отправки сообщения от
    клиента, надо написать ваше сообщение в поле
    'Message_Send' и нажать на клавишу 'SEND'. Удалённый cервер
    практически сразу получит сообщение, если вы всё
    правильно настроили, которое отобразится в графе
    'Message_ reciev'. После получения сообщения, сервер
    пересылает клиенту подтверждение приёма,
    которое отобразится у клиента в виде строки
    &quot;Server recieved&quot; в поле 'Message_reciev'. При выходе из
    клиента, сервер закрывает созданное соединение и
    инициализируется для ожидания другого
    соединения.</p>
    <p>2)функций библиотеки IPHLPAPI. Запускаем на
    локальной станции с операционной системой NT4
    dialog.exe. Наш локальный адрес 172.17.1.3, маска 255.255.255.0.
    Обычно номер интерфейса на NT станции, на которой
    одна лишь сетевая карточка и нету модемов равен 2,
    так как первый интерфейс отведён для LOOPBACK. Вы
    можете проверить значение своего интерфейса,
    нажав клавишу 'INFO'. Хотя для NT4, функции просмотра
    интерфейсов не поддерживаются, программа вам
    запустит утилиту route. В нашем примере значение
    интерфейса равно двум. Прописываем
    дополнительный IP адрес в поле 'IP ADDRESS', например,
    172.17.1.5, в поле 'MASK' маску сети 255.255.255.0, в поле '№
    Interface' номер интерфейса 2. Перед тем как добавить
    этот IP адрес, нажав на клавишу 'ADD', проверяем нету
    ли в нашей сети уже такого хоста, нажав на клавишу
    'PING'. При отсуствии ответа от станции, т.е. если
    утилита всё время будет отображать сообщение
    &quot;Request timed out.&quot;, можете добавлять новый адрес.
    Для удаления созданного нами дополнительного IP
    адреса, указываем только номер контекста в поле
    '№ Interface'. После первого добавления, номер
    контекста будет в нашем примере равен 3, после
    последующих добавлений, номер будет возрастать
    при каждом новом добавлении на единицу.</p>
    <p>Работа с функциями IPHLPAPI аналогична работе с
    программой route, одно из отличий, что все описанные
    выше действия вы осуществляете программно, а не
    через скрипты.</p>
    <p>В исходнике так же содержится <a href="tcp_doc.html">статья</a>
    о TCP протоколе.</p>
    <h3>Downloads</h3>
    <p><a href="tcpclser.exe">Скачать исходник - 124 Kb</a></p>
    <p><br>
    </td>
  </tr>
</table>
</center></div>


<hr>
<div align="center"><center>

<table border="0" cellpadding="0" cellspacing="3" width="468">
  <tr>
    <td width="154"><!-- LBE_LITE --> <script>
// <!--
rand = Math.round((Math.random() * (10000 - 1)));
document.write("<a href=http://lite.lbe.ru/cgi-bin/href/castle?" + rand + " target=_blank><img src=http://lite.lbe.ru/cgi-bin/banner/castle?" + rand + " width=468 height=60 border=0 alt=LBE_LITE ismap></a><br>");
// -->
</script> <noscript> <br>
</noscript><!-- LBE_LITE --></td>
  </tr>
</table>
</center></div>
</body>
</html>
